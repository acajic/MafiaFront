<!DOCTYPE html>
<html>
<head>
  <title>API documentation</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <link type='text/css' rel='stylesheet' href='../apidoc/stylesheets/bundled/bootstrap.min.css'/>
<link type='text/css' rel='stylesheet' href='../apidoc/stylesheets/bundled/prettify.css'/>
<link type='text/css' rel='stylesheet' href='../apidoc/stylesheets/bundled/bootstrap-responsive.min.css'/>
  <link type='text/css' rel='stylesheet' href='../apidoc/stylesheets/application.css'/>
  <!-- IE6-8 support of HTML5 elements -->
  <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
</head>
<body>
  <div class="container">
    <div class="row">
      <div id='container'>
        <ul class='breadcrumb'>
  <li>
    <a href='../apidoc.html'>Mafia 1.0</a>
    <span class='divider'>/</span>
  </li>
  <li class='active'>
    Action results
    
  </li>
  
</ul>

<div class='page-header'>
  <h1>
    Action results
    <br>
    <small>Action Results provide insight into the state of the game.</small>
  </h1>
</div>

  <div>
<p>Action Results are a way of insight into the state of the game.
Players&#39; actions produce results. Who got killed by Mafia this morning?
Who got voted out yesterday? Who is currently alive and who isn&#39;t? All
of these are Action Results.</p>
</div>


  <h2>Supported Formats</h2>
  json



<div class='accordion' id='accordion'>

    <hr>
    <div class='pull-right small'>
      <a href='../apidoc/action_results/action_results_for_city_and_role.html'> >>> </a>
    </div>
    <div>
        <h2>
          <a href='#description-action_results_for_city_and_role'
           class='accordion-toggle'
           data-toggle='collapse'
           data-parent='#accordion'>
            GET /action_results/city/:city_id/role/:role_id
          </a>
          <br>
          <small>Get Action Results for a specific city and role.</small>
        </h2>
    </div>


    <div id='description-action_results_for_city_and_role' class='collapse accordion-body'>
      
<p>Get Action Results for a specific city and role. This data is normally
accessed when user enters a game in order to receive most up-to-date
information about the state of the game.</p>


  <h3>Supported Formats</h3>
  json




  <h3>Params</h3>
  <table class='table'>
    <thead>
      <tr>
        <th>Param name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr style='background-color:rgb(255,255,255);'>
    <td>
      <strong>auth_token </strong><br>
      <small>
        required
        
      </small>
    </td>
    <td>
      
<p>Auth Token is obtained via /login and destroyed via /logout endpoint.</p>

        <br>
        Value: 
<p>Must be String</p>



    </td>

  </tr>

  
  <tr style='background-color:rgb(255,255,255);'>
    <td>
      <strong>city_id </strong><br>
      <small>
        required
        
      </small>
    </td>
    <td>
      
<p>City id.</p>

        <br>
        Value: 
<p>Must be Integer</p>



    </td>

  </tr>

  
  <tr style='background-color:rgb(255,255,255);'>
    <td>
      <strong>role_id </strong><br>
      <small>
        required
        
      </small>
    </td>
    <td>
      
<p>Role id.</p>

        <br>
        Value: 
<p>Must be Integer</p>



    </td>

  </tr>

  
  <tr style='background-color:rgb(255,255,255);'>
    <td>
      <strong>day_number_min </strong><br>
      <small>
        optional
        
      </small>
    </td>
    <td>
      
<p>Action Results that are produced on or after the specified game day.</p>

        <br>
        Value: 
<p>Must be Integer</p>



    </td>

  </tr>

  
  <tr style='background-color:rgb(255,255,255);'>
    <td>
      <strong>day_number_max </strong><br>
      <small>
        optional
        
      </small>
    </td>
    <td>
      
<p>Action Results that are produced on or before the specified game day.</p>

        <br>
        Value: 
<p>Must be Integer</p>



    </td>

  </tr>

  
  <tr style='background-color:rgb(255,255,255);'>
    <td>
      <strong>action_type_id </strong><br>
      <small>
        optional
        
      </small>
    </td>
    <td>
      
<p>Action type id.</p>

        <br>
        Value: 
<p>Must be Integer</p>



    </td>

  </tr>

  

    </tbody>
  </table>



    </div>
    <hr>
    <div class='pull-right small'>
      <a href='../apidoc/action_results/new.html'> >>> </a>
    </div>
    <div>
        <h2>
          <a href='#description-new'
           class='accordion-toggle'
           data-toggle='collapse'
           data-parent='#accordion'>
            GET /action_results/new
          </a>
          <br>
          <small>A new Action Result.</small>
        </h2>
    </div>


    <div id='description-new' class='collapse accordion-body'>
      
<p>A new Action Result.</p>


  <h3>Supported Formats</h3>
  json




  <h3>Params</h3>
  <table class='table'>
    <thead>
      <tr>
        <th>Param name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr style='background-color:rgb(255,255,255);'>
    <td>
      <strong>auth_token </strong><br>
      <small>
        required
        
      </small>
    </td>
    <td>
      
<p>Auth Token is obtained via /login and destroyed via /logout endpoint.</p>

        <br>
        Value: 
<p>Must be String</p>



    </td>

  </tr>

  
  <tr style='background-color:rgb(255,255,255);'>
    <td>
      <strong>city_id </strong><br>
      <small>
        required
        
      </small>
    </td>
    <td>
      
<p>City id.</p>

        <br>
        Value: 
<p>Must be Integer</p>



    </td>

  </tr>

  
  <tr style='background-color:rgb(255,255,255);'>
    <td>
      <strong>role_id </strong><br>
      <small>
        required
        
      </small>
    </td>
    <td>
      
<p>Role id.</p>

        <br>
        Value: 
<p>Must be Integer</p>



    </td>

  </tr>

  

    </tbody>
  </table>



    </div>
    <hr>
    <div class='pull-right small'>
      <a href='../apidoc/action_results/create.html'> >>> </a>
    </div>
    <div>
        <h2>
          <a href='#description-create'
           class='accordion-toggle'
           data-toggle='collapse'
           data-parent='#accordion'>
            POST /action_results
          </a>
          <br>
          <small>Create a new Action Result.</small>
        </h2>
    </div>


    <div id='description-create' class='collapse accordion-body'>
      
<p>Create a new Action Result. Normally, action results are created
automatically when actions get processed. Users can always submit fake
action results which will later be undistinguishable from the genuine ones.
Example parameters:</p>

<pre>{
    action_result: {
        city_id: 3,
        role_id: null,
        action_result_type: {
            id: 8
        },
        day_id: 31,
        result: {
            target_ids: [
                30
            ],
            success: true
        }
    },
    auth_token: &quot;5764b40be8726d3f4e4f6c0cda526a9fccc4c4774fb36f7f4840b4ed217a999b&quot;
}</pre>


  <h3>Supported Formats</h3>
  json




  <h3>Params</h3>
  <table class='table'>
    <thead>
      <tr>
        <th>Param name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr style='background-color:rgb(255,255,255);'>
    <td>
      <strong>auth_token </strong><br>
      <small>
        required
        
      </small>
    </td>
    <td>
      
<p>Auth Token is obtained via /login and destroyed via /logout endpoint.</p>

        <br>
        Value: 
<p>Must be String</p>



    </td>

  </tr>

  
  <tr style='background-color:rgb(255,255,255);'>
    <td>
      <strong>action_result </strong><br>
      <small>
        required
        
      </small>
    </td>
    <td>
      
<p>Action Result</p>

        <br>
        Value: 
<p>Must be a Hash</p>



    </td>

  </tr>

    <tr style='background-color:rgb(250,250,250);'>
    <td>
      <strong>action_result[city_id] </strong><br>
      <small>
        required
        
      </small>
    </td>
    <td>
      
<p>City id (for what game is the action result).</p>

        <br>
        Value: 
<p>Must be Integer</p>



    </td>

  </tr>

  
  <tr style='background-color:rgb(250,250,250);'>
    <td>
      <strong>action_result[role_id] </strong><br>
      <small>
        optional
        
      </small>
    </td>
    <td>
      
<p>Role id (under what role will user be able to see this result).</p>

        <br>
        Value: 
<p>Must be Integer</p>



    </td>

  </tr>

  
  <tr style='background-color:rgb(250,250,250);'>
    <td>
      <strong>action_result[action_result_type] </strong><br>
      <small>
        required
        
      </small>
    </td>
    <td>
      
<p>Action result type.</p>

        <br>
        Value: 
<p>Must be Hash</p>



    </td>

  </tr>

  
  <tr style='background-color:rgb(250,250,250);'>
    <td>
      <strong>action_result[result] </strong><br>
      <small>
        required
        
      </small>
    </td>
    <td>
      
<p>Actual parameters of the action result. For example, if it is a Vote action
- Who is the user that got voted out. If it is a terrorist bomb action,
what are the players that got killed?</p>

        <br>
        Value: 
<p>Must be Hash</p>



    </td>

  </tr>

  


    </tbody>
  </table>



    </div>
    <hr>
    <div class='pull-right small'>
      <a href='../apidoc/action_results/destroy.html'> >>> </a>
    </div>
    <div>
        <h2>
          <a href='#description-destroy'
           class='accordion-toggle'
           data-toggle='collapse'
           data-parent='#accordion'>
            DELETE /action_results/:action_result_id
          </a>
          <br>
          <small>Delete an Action Result.</small>
        </h2>
    </div>


    <div id='description-destroy' class='collapse accordion-body'>
      
<p>Delete an Action Result. On the user for whom the action result is intended
can delete it.</p>


  <h3>Supported Formats</h3>
  json




  <h3>Params</h3>
  <table class='table'>
    <thead>
      <tr>
        <th>Param name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr style='background-color:rgb(255,255,255);'>
    <td>
      <strong>auth_token </strong><br>
      <small>
        required
        
      </small>
    </td>
    <td>
      
<p>Auth Token is obtained via /login and destroyed via /logout endpoint.</p>

        <br>
        Value: 
<p>Must be String</p>



    </td>

  </tr>

  
  <tr style='background-color:rgb(255,255,255);'>
    <td>
      <strong>action_result_id </strong><br>
      <small>
        required
        
      </small>
    </td>
    <td>
      
<p>An Action Result id.</p>

        <br>
        Value: 
<p>Must be Integer</p>



    </td>

  </tr>

  

    </tbody>
  </table>



    </div>
</div>


        
      </div>
    </div>
    <hr>
    <footer></footer>
  </div>
  <script type='text/javascript' src='../apidoc/javascripts/bundled/jquery-1.7.2.js'></script>
<script type='text/javascript' src='../apidoc/javascripts/bundled/bootstrap-collapse.js'></script>
<script type='text/javascript' src='../apidoc/javascripts/bundled/prettify.js'></script>
<script type='text/javascript' src='../apidoc/javascripts/apipie.js'></script>
</body>
</html>
