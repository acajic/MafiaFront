<div class="auth">
    <div id="info-box">
        <alert ng-repeat="alert in infos" type="alert.type" close="closeInfoAlert($index)">{{alert.msg}}</alert>
    </div>

    <div ng-if="loader.isLoading">
        <loader size='small'></loader>
    </div>
    <div ng-if="!loader.isLoading">

        <div ng-if="!user.id">
            <button ng-if="homeButtonVisible()" ng-click="setLocationHome()" class="btn btn-primary"><i class="glyphicon glyphicon-home"></i>Home</button>

            <input type="text" ng-model="user.username" placeholder="username">
            <input id="password" type="password" ng-model="user.password" placeholder="password">
            <button ng-click="signIn()" class="btn btn-default">Sign in</button>
            <button ng-click="register()" class="btn btn-default">Register</button>
            <button ng-click="forgotPassword()" class="btn btn-link">Forgot Password?</button>
        </div>
        <div ng-if="user.id">

            <div ng-if="adminButtonVisible()" style="display: inline">
                <button ng-click="setLocationAdmin()" class="btn btn-danger"><i class="glyphicon glyphicon-star"></i>Admin</button>
            </div>
            <button ng-if="homeButtonVisible()" ng-click="setLocationHome()" class="btn btn-primary"><i class="glyphicon glyphicon-home"></i>Home</button>


            Hello, <a href="{{profileUrl}}" >{{user.username}}</a>!
            <button ng-click="signOut()" class="btn btn-default" style="display: inline"><i class="glyphicon glyphicon-log-out"></i> Sign out</button>
        </div>
    </div>
</div>


<script type="text/ng-template" id="forgotPasswordModalContent.html">
    <div class="forgot-password-modal">
        <div class="modal-header">
            <div>
                <h3 style="display: inline">Request password reset?</h3>
                <br/>
                Confirmation email will be sent to the email address that you input.
            </div>
        </div>
        <div class="modal-body">
            Enter email address: <input type="email" ng-model="form.email">
        </div>

        <div class="bottom-buttons">
            <button ng-click="cancel()" class="btn btn-back">Cancel</button>
            <button ng-click="ok()" class="btn btn-save">Confirm</button>
        </div>
    </div>
</script>