<div class="role-chooser">
    <div id="info-box">
        <alert ng-repeat="alert in infos" type="alert.type" close="closeInfoAlert($index)">{{alert.msg}}</alert>
    </div>

    <div ng-dblclick="toggleMode()" ng-if="!editMode">
        {{ roleLabel }}
    </div>

    <div ng-dblclick="toggleMode()" ng-if="editMode">
        <div class="dropdown">
            <a class="dropdown-toggle">
                {{ roleLabel }}
            </a>
            <button ng-if="enableRoleSaving && roleId" class="btn btn-save" ng-click="saveRole()" popover="Make this role appear after login." popover-trigger="mouseenter" popover-placement="right"><i class="glyphicon glyphicon-floppy-disk"></i></button>
            <ul class="dropdown-menu">
                <li ng-repeat="cityHasRole in city.city_has_roles | uniqque: { role : 'id'}">
                    <a ng-click="optionSelected(cityHasRole.role.id)">{{cityHasRole.role.name}}</a>
                </li>
            </ul>
        </div>
    </div>
</div>