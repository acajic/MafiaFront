<div>
    <table class="table sidetable">
        <tbody>
        <tr>
            <td></td>
            <td colspan="3">
                <alert ng-repeat="alert in alerts" type="alert.type" close="closeAlert($index)">{{alert.msg}}</alert>
            </td>
        </tr>

        <tr>
            <td>Username</td>
            <td colspan="3">{{user.username}}</td>
        </tr>

        <tr>
            <td>Email</td>
            <td colspan="3">{{user.email}}</td>
        </tr>

        <tr>
            <td>Email Confirmed</td>
            <td style="text-align: center"><img-bool boolean-value="user.email_confirmed"></img-bool></td>
            <td><button class="btn btn-primary" ng-click="resendConfirmationEmail()">Resend Confirmation Email</button></td>
            <td><loader size="small" ng-if="isSendingConfirmationEmail"></loader> </td>
        </tr>

        <tr>
            <td>App Role</td>
            <td colspan="3">
                <select ng-model="user.app_role.id" ng-options="appRole.id as appRole.name for appRole in appRoles">
                </select>
            </td>
        </tr>

        <tr>
            <td></td>
            <td colspan="3">
                <button class="btn btn-default" ng-click="cancel()">Cancel</button>
                <button class="btn btn-success" ng-click="saveUser()">Save</button>
                <button class="btn btn-danger" ng-click="deleteUser()">Delete</button>
                <button class="btn btn-primary" ng-click="impersonate()">Impersonate</button>
            </td>
        </tr>


        </tbody>
    </table>
</div>

<script type="text/ng-template" id="deleteModalContent.html">
    <div class="modal-header">
        <div>
        <h3 style="display: inline">Delete this user?</h3> <h3 style="display: inline; color: red;">*</h3>
        </div>
        <p style="color:red; display: inline"> * </p> - changes cannot be undone
    </div>

    <button ng-click="cancel()" class="btn btn-default">Cancel</button>
    <button ng-click="ok()" class="btn btn-danger">Confirm</button>
</script>